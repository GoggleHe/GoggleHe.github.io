---
layout: post
title: Java虚拟机
categories: [Java]
description: Java虚拟机
keywords: Java,JVM
---

## Java虚拟机

### 内存区域

- 程序计数器：线程私有，且各线程的程序计数器互相独立；记录字节码执行位置，实现跳转、循环、线程恢复等功能；不会有OOM
- Java虚拟机栈：线程私有；Java方法执行的内存模型；创建栈帧，存储局部变量表、操作数栈、动态连接、方法出入口等信息；
- 本地方法栈：同Java虚拟机栈，只是用于执行native方法；部分JVM将其与JVM栈合一；
- Java堆：线程共享；用于存放实例；
- 运行时常量池：存储字面量、符号引用、字符串常量池等；1.7之前在方法区，之后字符串常量池在堆，字面量符号引用等仍在方法区（元空间）；
- 元空间：存储类相关信息；1.8之前叫方法区、永久代，之后叫元空间，是直接内存的一部分
- 直接内存：非运行时由JVM管理的直接内存

