---
layout: post
title: RAID 独立磁盘冗余阵列
categories: [Linux]
description: RAID 独立磁盘冗余阵列
keywords: Linux, 磁盘
---

## RAID 独立磁盘冗余阵列

### 1、RAID 概述

将一组硬盘连结起来，组成一个阵列，以避免单个硬盘损坏而带来的数据损失， 同时亦提供了比单个硬盘高的可用性及容错性。相同的数据会在不同的磁盘上存在两个完全相同的副本。

### 2、关键技术

#### 2.1 镜像

通过镜像复制的方式，使用额外的磁盘创建一个数据的副本。

优点：数据安全性高，读性能好

缺点：成本高，磁盘空间利用率仅50%

#### 2.2 数据条带

一份数据会被分块打散并行写入不同的硬盘。

优点：IO写入性能提高

缺点：安全性低，一个条带故障，整个数据将不可用

#### 2.3 数据校验

一种冗余技术，存储原数据的校验码，并可在原数据故障时，通过校验码逆向重建原数据。

优缺点：数据条带+数据校验技术组合，是对数据安全性、写入性能和成本的折中方案。

### 3、RAID 等级

#### 3.1 JBOD

JBOD （ Just a Bunch Of Disks ）：不是标准的RAID 方案，只单纯将多个物理硬盘组成一个巨大的逻辑硬盘。

#### 3.2 标准 RAID 等级

##### 3.2.1 RAID0

RAID0：由1个或以上磁盘组成。无数据校验的数据条带化技术的磁盘阵列。数据打散存储到不同磁盘上。充分利用并发能力，无冗余能力，数据安全性低。

优点：读写性能高；不接受盘故障

缺点：无冗余能力，数据安全性差。

##### 3.2.2 RAID1

RAID1：至少两个磁盘。只有镜像功能的磁盘阵列。数据完全一致的分别写到工作硬盘和镜像硬盘。写性能不佳，数据安全性最高。

优点：可用性高，一个磁盘故障不影响读数据

缺点：写性能响应慢，写入数据需要同时写多个磁盘

##### 3.2.3 RAID2

##### 3.2.4 RAID3

RAID3 ：至少需要三块磁盘，一个专用校验盘。数据按位以字节的方式存储到各数据盘中。

优点：读性能高，可同时从多个硬盘条带读数据；能接收一个盘故障

缺点：写性能低，一次写包括写数据块、读同条带数据块、计算校验值、写校验值等操作。

##### 3.2.5 RAID4

RAID4：至少需要三块硬盘，一个专业校验盘。数据条带方式与RAID3不同，RAID4写数据只设计一个数据盘和校验盘。

优点：写性能差，只能一个一个盘写；能接收一个盘故障

缺点：读性能高，但受限于校验盘瓶颈。

实际使用少

##### 3.2.6 **RAID5**

**RAID5**：无专门校验盘，校验数据分散存储。可同时写多个盘。(常用)

优点：读写性能好，能接收一个盘故障

缺点：数据重建时，性能较差（所有RAID等级的共用缺点）

##### 3.2.7 RAID6

RAID6：RAID5方案的拓展，支持数据恢复的同时也支持校验数据的恢复。能同时接收两个盘故障

优点：读写性能好

缺点：成本高，方案复杂

#### 3.3 RAID 组合等级

##### 3.3.1 RAID00

RAID00：RAID0 + RAID0

引入两层RAID0阵列，相当于条带化后再一层条带话，扩大容量，提升并发能力

优点：读写性能相对于RAID0提升，容量提升

缺点：依然无冗余能力

##### 3.3.2 RAID01 和 RAID10

RAID01 和 RAID10：条带加镜像技术的组合，RAID01先条带后镜像，RAID10相反

