# Netty权威指南

## IO基础入门

### IO模型

- 阻塞IO：无数据时读写阻塞等待数据准备好
- 非阻塞IO：无数据直接返回错误信息，不会阻塞等待
- IO复用：轮询多个
- 信号驱动IO
- 异步IO

### IO多路复用的系统调用技术比较

|            | select                                   | poll                                     | epoll                                                        |
| ---------- | ---------------------------------------- | ---------------------------------------- | ------------------------------------------------------------ |
| 操作方式   | 遍历                                     | 遍历                                     | 回调                                                         |
| 底层实现   | 数组                                     | 链表                                     | 哈希表                                                       |
| IO效率     | 轮询，O(n)                               | 轮询，O(n)                               | 事件通知，系统注册的回调函数被调用，将就绪的fd放进rdlist，O(1) |
| 最大连接数 | 1024(x86)或2048(x64)                     | 系统的最大文件句柄数                     | 系统的最大文件句柄数                                         |
| fd拷贝     | 每次调用，都要讲fd集合从用户态拷到内核态 | 每次调用，都要讲fd集合从用户态拷到内核态 | 调用epoll_ctl时拷贝，之后每次epoll_wait时不拷贝              |

